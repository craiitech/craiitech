
{
  "entities": {
    "User": {
      "title": "User",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "email": { "type": "string", "format": "email" },
        "firstName": { "type": "string" },
        "lastName": { "type": "string" },
        "roleId": { "type": "string" },
        "role": { "type": "string" },
        "campusId": { "type": "string" },
        "unitId": { "type": "string" },
        "verified": { "type": "boolean" },
        "ndaAccepted": { "type": "boolean" }
      },
      "required": ["id", "email", "firstName", "lastName", "roleId", "role", "campusId", "unitId", "verified"]
    },
    "QaAuditReport": {
      "title": "QaAuditReport",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "type": { "type": "string", "enum": ["IQA", "EQA"] },
        "title": { "type": "string" },
        "reportDate": { "type": "string", "format": "date-time" },
        "googleDriveLink": { "type": "string", "format": "uri" },
        "campusId": { "type": "string" },
        "eqaCategory": { "type": "string", "enum": ["Certification / Re-Certification Audit", "Surveillance Audit"] },
        "certifyingBody": { "type": "string" }
      },
      "required": ["type", "title", "reportDate", "googleDriveLink", "campusId"]
    },
    "ManagementReview": {
      "title": "ManagementReview",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "title": { "type": "string" },
        "startDate": { "type": "string", "format": "date-time" },
        "endDate": { "type": "string", "format": "date-time" },
        "minutesLink": { "type": "string", "format": "uri" },
        "campusId": { "type": "string" }
      },
      "required": ["title", "startDate", "endDate", "minutesLink", "campusId"]
    },
    "ManagementReviewOutput": {
      "title": "ManagementReviewOutput",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "mrId": { "type": "string" },
        "description": { "type": "string" },
        "initiator": { "type": "string" },
        "concernedUnitIds": { "type": "array", "items": { "type": "string" } },
        "actionPlan": { "type": "string" },
        "followUpDate": { "type": "string", "format": "date-time" },
        "status": { "type": "string", "enum": ["Open", "On-going", "Closed"] }
      },
      "required": ["mrId", "description", "concernedUnitIds", "status"]
    },
    "CorrectiveActionRequest": {
      "title": "CorrectiveActionRequest",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "carNumber": { "type": "string" },
        "source": { "type": "string" },
        "description": { "type": "string" },
        "unitId": { "type": "string" },
        "campusId": { "type": "string" },
        "actionPlan": { "type": "string" },
        "targetDate": { "type": "string", "format": "date-time" },
        "status": { "type": "string", "enum": ["Open", "In Progress", "Closed"] }
      },
      "required": ["carNumber", "source", "description", "unitId", "campusId", "status"]
    },
    "AcademicProgram": {
      "title": "AcademicProgram",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "abbreviation": { "type": "string" },
        "campusId": { "type": "string" },
        "collegeId": { "type": "string" },
        "level": { "type": "string", "enum": ["Undergraduate", "Graduate", "TVET"] },
        "isBoardProgram": { "type": "boolean" },
        "isActive": { "type": "boolean" }
      },
      "required": ["id", "name", "campusId", "collegeId", "level", "isActive", "isBoardProgram"]
    },
    "ProgramComplianceRecord": {
      "title": "ProgramComplianceRecord",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "programId": { "type": "string" },
        "campusId": { "type": "string" },
        "academicYear": { "type": "number" }
      },
      "required": ["id", "programId", "campusId", "academicYear"]
    },
    "Submission": {
      "title": "Submission",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "userId": { "type": "string" },
        "submissionDate": { "type": "string", "format": "date-time" },
        "googleDriveLink": { "type": "string", "format": "uri" },
        "cycleId": { "type": "string" },
        "statusId": { "type": "string" },
        "reportType": { "type": "string" },
        "year": { "type": "number" },
        "unitName": { "type": "string" },
        "campusId": { "type": "string" },
        "unitId": { "type": "string" },
        "revision": { "type": "number" },
        "controlNumber": { "type": "string" }
      },
      "required": ["id", "userId", "submissionDate", "googleDriveLink", "cycleId", "statusId", "reportType", "year", "unitName", "campusId", "unitId", "revision", "controlNumber"]
    }
  },
  "auth": {
    "providers": ["password", "google"]
  },
  "firestore": {
    "structure": [
      { "path": "/users/{userId}", "definition": { "entityName": "User" } },
      { "path": "/roles_admin/{userId}", "definition": { "description": "Admin privileges map." } },
      { "path": "/qaAuditReports/{reportId}", "definition": { "entityName": "QaAuditReport" } },
      { "path": "/managementReviews/{mrId}", "definition": { "entityName": "ManagementReview" } },
      { "path": "/managementReviewOutputs/{outputId}", "definition": { "entityName": "ManagementReviewOutput" } },
      { "path": "/correctiveActionRequests/{carId}", "definition": { "entityName": "CorrectiveActionRequest" } },
      { "path": "/academicPrograms/{programId}", "definition": { "entityName": "AcademicProgram" } },
      { "path": "/programCompliances/{recordId}", "definition": { "entityName": "ProgramComplianceRecord" } },
      { "path": "/submissions/{submissionId}", "definition": { "entityName": "Submission" } },
      { "path": "/campuses/{campusId}", "definition": { "entityName": "Campus" } },
      { "path": "/units/{unitId}", "definition": { "entityName": "Unit" } }
    ]
  }
}
