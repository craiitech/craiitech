
{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user within the RSU EOMS Submission Portal.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the User entity."
        },
        "email": {
          "type": "string",
          "description": "User's email address.",
          "format": "email"
        },
        "firstName": {
          "type": "string",
          "description": "User's first name."
        },
        "lastName": {
          "type": "string",
          "description": "User's last name."
        },
        "roleId": {
          "type": "string",
          "description": "Reference to Role."
        },
        "role": {
          "type": "string",
          "description": "The name of the user's role, denormalized."
        },
        "campusId": {
          "type": "string",
          "description": "Reference to Campus."
        },
        "unitId": {
          "type": "string",
          "description": "Reference to Unit."
        },
        "verified": {
          "type": "boolean",
          "description": "Indicates if the user's account has been verified."
        },
        "ndaAccepted": {
          "type": "boolean",
          "description": "Indicates if the user has accepted the NDA."
        }
      },
      "required": [
        "id",
        "email",
        "firstName",
        "lastName",
        "roleId",
        "role",
        "campusId",
        "unitId",
        "verified"
      ]
    },
    "AcademicProgram": {
      "title": "AcademicProgram",
      "type": "object",
      "description": "An academic degree program offered by the university.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "abbreviation": { "type": "string" },
        "campusId": { "type": "string" },
        "collegeId": { "type": "string" },
        "level": { "type": "string", "enum": ["Undergraduate", "Graduate", "TVET"] },
        "isActive": { "type": "boolean" },
        "createdAt": { "type": "string", "format": "date-time" },
        "updatedAt": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "name", "campusId", "collegeId", "level", "isActive"]
    },
    "ProgramComplianceRecord": {
      "title": "ProgramComplianceRecord",
      "type": "object",
      "description": "Annual compliance data for an academic program.",
      "properties": {
        "id": { "type": "string" },
        "programId": { "type": "string" },
        "campusId": { "type": "string" },
        "academicYear": { "type": "number" },
        "ched": { "type": "object" },
        "accreditation": { "type": "object" },
        "curriculum": { "type": "object" },
        "faculty": { "type": "object" },
        "stats": { "type": "object" },
        "boardPerformance": { "type": "object" },
        "tracer": { "type": "object" },
        "updatedAt": { "type": "string", "format": "date-time" },
        "updatedBy": { "type": "string" }
      },
      "required": ["id", "programId", "campusId", "academicYear"]
    },
    "Role": {
      "title": "Role",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "description": { "type": "string" }
      },
      "required": ["id", "name", "description"]
    },
    "Submission": {
      "title": "Submission",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "userId": { "type": "string" },
        "submissionDate": { "type": "string", "format": "date-time" },
        "googleDriveLink": { "type": "string", "format": "uri" },
        "cycleId": { "type": "string" },
        "statusId": { "type": "string" },
        "reportType": { "type": "string" },
        "year": { "type": "number" },
        "unitName": { "type": "string" },
        "campusId": { "type": "string" },
        "unitId": { "type": "string" },
        "revision": { "type": "number" },
        "controlNumber": { "type": "string" }
      },
      "required": ["id", "userId", "submissionDate", "googleDriveLink", "cycleId", "statusId", "reportType", "year", "unitName", "campusId", "unitId", "revision", "controlNumber"]
    },
    "Risk": {
      "title": "Risk",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "unitId": { "type": "string" },
        "campusId": { "type": "string" },
        "year": { "type": "number" },
        "type": { "type": "string", "enum": ["Risk", "Opportunity"] },
        "status": { "type": "string", "enum": ["Open", "In Progress", "Closed"] }
      }
    },
    "Campus": {
      "title": "Campus",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "location": { "type": "string" }
      },
      "required": ["id", "name", "location"]
    },
    "Unit": {
      "title": "Unit",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "campusIds": { "type": "array", "items": { "type": "string" } }
      },
      "required": ["id", "name"]
    },
    "UnitMonitoringRecord": {
      "title": "UnitMonitoringRecord",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "visitDate": { "type": "string", "format": "date-time" },
        "campusId": { "type": "string" },
        "unitId": { "type": "string" },
        "monitorName": { "type": "string" }
      }
    }
  },
  "auth": {
    "providers": ["password", "google"]
  },
  "firestore": {
    "structure": [
      { "path": "/users/{userId}", "definition": { "entityName": "User" } },
      { "path": "/roles_admin/{userId}", "definition": { "description": "Admin privileges map." } },
      { "path": "/academicPrograms/{programId}", "definition": { "entityName": "AcademicProgram" } },
      { "path": "/programCompliances/{recordId}", "definition": { "entityName": "ProgramComplianceRecord" } },
      { "path": "/submissions/{submissionId}", "definition": { "entityName": "Submission" } },
      { "path": "/risks/{riskId}", "definition": { "entityName": "Risk" } },
      { "path": "/campuses/{campusId}", "definition": { "entityName": "Campus" } },
      { "path": "/units/{unitId}", "definition": { "entityName": "Unit" } },
      { "path": "/unitMonitoringRecords/{recordId}", "definition": { "entityName": "UnitMonitoringRecord" } }
    ]
  }
}
